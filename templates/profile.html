{% extends "base.html" %}
{% block title %}Profile{% endblock %}

{% block content %}
<div class="profile-container fade-in">
    <div class="profile-header">
        <div class="user-info">
            <h2>{{ user.name }}</h2>
            <p>{{ user.email }}</p>
        </div>
        <div class="credit-status">
            <div class="credits">
                <span class="count">{{ user.credits }}</span>
                <span class="label">Scan Credits</span>
            </div>
            <a href="/credits/request" class="btn btn-secondary">Request More</a>
        </div>
    </div>

    <div class="documents-list">
        <h3>Recent Scans</h3>
        {% if documents %}
            <div class="documents-grid doc-grid">
                {% for doc in documents %}
                <div class="document-card doc-card fade-in">
                    <div class="doc-header">
                        <span class="file-icon">{{ doc.filename|file_icon }}</span>
                        <h4>{{ doc.filename|truncate(25) }}</h4>
                    </div>
                    <div class="doc-meta">
                        <span class="date">{{ doc.upload_date|datetimeformat }}</span>
                        <a href="/matches/{{ doc.id }}" class="btn btn-secondary">View Matches</a>
                    </div>
                </div>
                {% endfor %}
            </div>
        {% else %}
            <div class="empty-state">
                <p>No documents scanned yet.</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock %}
